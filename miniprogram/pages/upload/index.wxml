<view class="container">
  <!-- 顶部导航栏 -->
  <view class="nav-bar">
    <view class="nav-btn cancel-btn" bindtap="cancelUpload">取消</view>
    <view class="nav-btn save-btn" bindtap="submitPhoto" wx:if="{{tempFilePaths.length > 0}}">上传</view>
  </view>

  <view class="content-section">
    <!-- 照片描述区域 -->
    <textarea class="desc-input" 
      placeholder="添加照片描述..." 
      value="{{photoDesc}}" 
      bindinput="onPhotoDescInput"
      maxlength="200"
    ></textarea>

    <!-- 有照片时的展示区域 -->
    <view class="photos-grid" wx:if="{{tempFilePaths.length > 0}}">
      <view wx:for="{{tempFilePaths}}" 
        wx:key="index"
        class="photo-grid-item">
        <image src="{{item}}" mode="aspectFill" class="photo-image"></image>
        <view class="delete-photo" catchtap="deletePhoto" data-index="{{index}}">
          <text class="delete-icon">×</text>
        </view>
      </view>
      
      <!-- 添加更多照片按钮 -->
      <view class="add-photo-item" bindtap="choosePhoto" wx:if="{{tempFilePaths.length < 9}}">
        <view class="add-photo-content">
          <text class="add-icon">+</text>
          <text class="add-text">添加照片</text>
        </view>
      </view>
    </view>

    <!-- 当没有照片时显示的添加按钮 -->
    <view class="photos-grid" wx:if="{{tempFilePaths.length === 0}}">
      <view class="add-photo-item" bindtap="choosePhoto">
        <view class="add-photo-content">
          <text class="add-icon">+</text>
          <text class="add-text">添加照片</text>
        </view>
      </view>
    </view>
  </view>
</view> 